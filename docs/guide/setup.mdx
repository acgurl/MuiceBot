# å¿«é€Ÿå¼€å§‹ğŸ’»

æœ¬èŠ‚åŠåç»­æ–‡æ¡£é»˜è®¤æ‚¨æœ‰ç‹¬ç«‹æ­å»ºè¿‡ Nonebot æœåŠ¡çš„ç›¸å…³ç»éªŒã€‚

å»ºè®®ç¯å¢ƒï¼š

- Python 3.10 åŠä»¥ä¸Š Python ç‰ˆæœ¬

- ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ Nonebot é¡¹ç›®ï¼Œå‚è§ï¼š [å¿«é€Ÿä¸Šæ‰‹ | Nonebot](https://nonebot.dev/docs/quick-start#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE)


## å®‰è£…æ’ä»¶âš™ï¸

MuiceBot å°†ä½œä¸º Nonebot æ’ä»¶çš„æ–¹å¼æä¾›å®‰è£…

ç”±äºæ­¤æ’ä»¶è¿˜åœ¨å¼€å‘æ—©æœŸï¼Œå› æ­¤è¯·é€šè¿‡åŒ…ç®¡ç†å™¨æ‰‹åŠ¨å®‰è£…æ’ä»¶ï¼š

import { Tab, Tabs } from 'rspress/theme';

<Tabs>
  <Tab label="pip">
```shell
pip install muicebot
```
  </Tab>

  <Tab label="pdm">
```shell
pdm add muicebot
```
  </Tab>

  <Tab label="poetry">
```shell
poetry add muicebot
```
  </Tab>

  <Tab label="conda">
```shell
conda instll muicebot
```
  </Tab>

</Tabs>

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¼šä»…å®‰è£… `OpenAI` åŠ è½½å™¨æ‰€éœ€çš„ä¾èµ–ï¼Œè¦æƒ³å®Œæ•´å®‰è£…æ‰€æœ‰æ¨¡å‹åŠ è½½å™¨çš„ä¾èµ–ï¼Œè¯·æ‰§è¡Œï¼š

import { Tab, Tabs } from 'rspress/theme';

<Tabs>
  <Tab label="pip">
```shell
pip install muicebot[standard]
```
  </Tab>

  <Tab label="pdm">
```shell
pdm add muicebot[standard]
```
  </Tab>

  <Tab label="poetry">
```shell
poetry add muicebot[standard]
```
  </Tab>

  <Tab label="conda">
```shell
conda instll muicebot[standard]
```
  </Tab>

</Tabs>

å®Œæˆå®‰è£…åï¼Œè¯·æ‰‹åŠ¨ç¼–è¾‘ Nonebot é¡¹ç›®ä¸­çš„ `pyproject.toml`, åœ¨ `[tool.nonebot]` éƒ¨åˆ†è¿½åŠ æ’ä»¶:

```toml
plugins = ["muicebot"]
```

æ’ä»¶å®‰è£…å®Œæ¯•åï¼Œä¸ºäº†æ­£å¸¸å¯åŠ¨ Nonebot æœåŠ¡ï¼Œè¯·ç¡®è®¤æ‚¨å·²å®‰è£… Nonebot é€‚é…å™¨æ‰€éœ€çš„é©±åŠ¨å™¨ï¼Œæ¨èçš„é…ç½®å¦‚ä¸‹ï¼š

```dotenv
DRIVER=~fastapi+~websockets+~httpx
```

æ¥ä¸‹æ¥æŒ‰ç…§æ­£å¸¸æ–¹å¼é…ç½®é€‚é…å™¨çš„é…ç½®é¡¹å³å¯

## æ’ä»¶é…ç½®é¡¹ä¸€è§ˆ(.env)

### å“åº”æ˜µç§°é…ç½®ğŸ§¸

æ­£å¸¸æƒ…å†µä¸‹ï¼ŒMuiceBot åªä¼šå¤„ç† `at_event` äº‹ä»¶æˆ–è€…æ˜¯æŒ‡ä»¤äº‹ä»¶ï¼Œå¯¹äºæŸäº›å®¢æˆ·ç«¯æ¥è¯´ @bot çš„æ“ä½œè¿˜æ˜¯å¤ªéº»çƒ¦äº†ï¼Œæœ‰æ²¡æœ‰æ›´åŠ ç®€å•çš„æ–¹æ³•ï¼Ÿ

æœ‰çš„å…„å¼Ÿï¼Œæœ‰çš„ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå“åº”å‰ç¼€æ¥è®©æ²é›ªå“åº”æ¶ˆæ¯äº‹ä»¶ã€‚

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```dotenv
MUICE_NICKNAMES=["æ²é›ª", "muice", "é›ª"]
```

è¿™å°†å“åº”å‰ç¼€ä¸ºâ€œæ²é›ªâ€ã€â€œmuiceâ€ã€â€œé›ªâ€çš„æ¶ˆæ¯äº‹ä»¶ï¼Œä¸”æ— éœ€åœ¨å“åº”å‰ç¼€åé¢åŠ å…¥ç©ºæ ¼åˆ†éš”ç¬¦ï¼Œæ¯”å¦‚ä¸‹åˆ—çš„æ¶ˆæ¯å°†è¢«æ²é›ªå“åº”ï¼š

> é›ªï¼Œæˆ‘åªä¼šå¯¹ä½ åŠ¨å¿ƒä½ çŸ¥é“å—

> å””...çœŸçš„å˜›ï¼Ÿï¼ˆè„¸çº¢ï¼‰

é»˜è®¤å€¼: `["muice"]`

### è¶…çº§ç”¨æˆ·

è¶…çº§ç”¨æˆ·å¯ä»¥æ‰§è¡Œä¾‹å¦‚ `.load` ä¹‹ç±»æ”¹å˜æœºå™¨äººè¿è¡Œæ–¹å¼çš„æŒ‡ä»¤ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ç”¨æˆ·IDå¯ä»¥å°†å…¶è®¾ä¸ºè¶…çº§ç”¨æˆ·ï¼š

```dotenv
SUPERUSERS=["123456789"]
```

> [!NOTE]
>
> ç”¨æˆ· ID ä¸ä¸€å®šæ˜¯å¹³å°ä¸Šæ˜¾ç¤ºçš„ ID ï¼Œæ¯”å¦‚ QQ é¢‘é“ä¸­çš„ç”¨æˆ· ID å°±ä¸æ˜¯ QQ å·ã€‚å¯¹æ­¤æˆ‘ä»¬æ¨èä½ ä½¿ç”¨ `.whoami` æŒ‡ä»¤è·å–å½“å‰ç”¨æˆ· ID

*è™½ç„¶ä½†æ˜¯ï¼Œæˆ‘çš„masteråªæœ‰ä¸€ä¸ªå“¦*

é»˜è®¤å€¼: `[]`

### è‡ªå®šä¹‰æ’ä»¶ç›®å½•/å¯ç”¨å†…åµŒæ’ä»¶

ä»ä»¥ä¸‹ç›®å½•ä¸­åŠ è½½ Muicebot æ’ä»¶ï¼š

```dotenv
PLUGINS_DIR=["./plugins"]
ENABLE_BUILTIN_PLUGINS=true
```

ç›®å‰çš„å†…åµŒæ’ä»¶æœ‰: `access_control`(Nonebot é»‘ç™½åå•ç®¡ç†); `muicebot-plugin-time`(Function Call è·å–å½“å‰æ—¶é—´); `muicebot-plugin-username`(Function Call è·å–å½“å‰å¯¹è¯ç”¨æˆ·å)

é»˜è®¤å€¼: `[] false`

### åŠ è½½æŒ‡å®šçš„ Nonebot é€‚é…å™¨(ä»… Debug ç”¨é€”)

é»˜è®¤æƒ…å†µä¸‹ï¼Œæœºå™¨äººå…¥å£æ–‡ä»¶åªä¼šåŠ è½½ `nonebot.adapters.onebot.v11/12` é€‚é…å™¨ï¼Œè¦æƒ³åœ¨ debug ç¯å¢ƒä¸­å¼•å…¥å…¶ä»–é€‚é…å™¨ï¼Œè¯·å‚è€ƒï¼š

```dotenv
enable_adapters = ["nonebot.adapters.onebot.v11", "nonebot.adapters.onebot.v12", "nonebot.adapters.telegram"]
```

è‡³æ­¤ï¼Œ`NoneBot` çš„æœ¬èº«çš„é…ç½®éƒ¨åˆ†åˆ°æ­¤ç»“æŸï¼Œä½†æ˜¯ä½ å…ˆåˆ«æ€¥ï¼Œæˆ‘ä»¬è¿˜è¦è‡³å°‘å¡«å†™ä¸€ä¸ªæ¨¡å‹åŠ è½½å™¨é…ç½®æ‰èƒ½æ­£å¸¸å¯åŠ¨ Muicebot

å‚è€ƒä¸‹ä¸€èŠ‚ï¼š[é…ç½®æ–‡ä»¶](/guide/configuration)